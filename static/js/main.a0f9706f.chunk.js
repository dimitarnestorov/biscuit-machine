(this["webpackJsonpbiscuit-machine"]=this["webpackJsonpbiscuit-machine"]||[]).push([[0],{18:function(e,t,a){},20:function(e,t,a){},21:function(e,t,a){},22:function(e,t,a){},23:function(e,t,a){"use strict";a.r(t);var n,i=a(0),r=a.n(i),s=a(4),l=a.n(s),o=a(12),c=a(5),u=(a(18),[160,6]),m=[160,6].join(),h=16*(u[0]+u[1]);function p(){return r.a.createElement("svg",{className:"conveyor-belt",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 1307 422",fill:"none"},r.a.createElement("defs",null,r.a.createElement("circle",{id:"tail-pulley-path",cx:"1250",cy:"125",r:"39"}),r.a.createElement("circle",{id:"secondary-pulley-path",cx:"104.5",cy:"125.5",r:"84.5"}),r.a.createElement("circle",{id:"primary-pulley-path",cx:"292",cy:"341",r:"35"}),r.a.createElement("mask",{id:"tail-pulley-mask",width:"78",height:"78",x:"0",y:"0",fill:"#fff",maskContentUnits:"userSpaceOnUse",maskUnits:"objectBoundingBox"},r.a.createElement("use",{xlinkHref:"#tail-pulley-path"})),r.a.createElement("mask",{id:"secondary-pulley-mask",width:"169",height:"169",x:"0",y:"0",fill:"#fff",maskContentUnits:"userSpaceOnUse",maskUnits:"objectBoundingBox"},r.a.createElement("use",{xlinkHref:"#secondary-pulley-path"})),r.a.createElement("mask",{id:"primary-pulley-mask",width:"70",height:"70",x:"0",y:"0",fill:"#fff",maskContentUnits:"userSpaceOnUse",maskUnits:"objectBoundingBox"},r.a.createElement("use",{xlinkHref:"#primary-pulley-path"}))),r.a.createElement("path",{className:"conveyor-belt-path",stroke:"#000",strokeDasharray:m,pathLength:h,strokeDashoffset:"-2",strokeWidth:"4",d:"M91 72h1161c29.271 0 53 23.729 53 53s-23.729 53-53 53H91c-29.271 0-53-23.729-53-53s23.729-53 53-53z"}),r.a.createElement("use",{className:"tail-pulley",fill:"#D8D8D8",stroke:"#979797",strokeDasharray:"26,9",strokeWidth:"14",mask:"url(#tail-pulley-mask)",xlinkHref:"#tail-pulley-path"}),r.a.createElement("use",{className:"secondary-pulley",fill:"#D8D8D8",stroke:"#979797",strokeDasharray:"100,6",strokeWidth:"26",mask:"url(#secondary-pulley-mask)",xlinkHref:"#secondary-pulley-path"}),r.a.createElement("g",{className:"motor",fill:"#48AEDF",stroke:"#335475"},r.a.createElement("circle",{cx:"292",cy:"341",r:"77.5",strokeWidth:"6"}),r.a.createElement("use",{className:"primary-pulley",strokeDasharray:"70,3",strokeWidth:"12",mask:"url(#primary-pulley-mask)",xlinkHref:"#primary-pulley-path"})),r.a.createElement("path",{className:"vee-belt",stroke:"#000",strokeDasharray:"137,4",strokeWidth:"10",d:"M322.185 367.717s0 0 0 0c-14.003 16.036-38.181 18.123-54.724 4.723L47.195 194.028C12.442 165.878 4.33 116.14 28.337 78.407c5.613-8.822 11.763-16.02 18.448-21.591 0 0 0 0 0 0 37.917-31.6 94.272-26.48 125.873 11.438a89.372 89.372 0 017.84 11.004l145.805 241.346c9.019 14.929 7.354 33.975-4.118 47.113 0 0 0 0 0 0z"}))}!function(e){e.On="on",e.Paused="paused",e.Off="off"}(n||(n={}));var d,f,v,k,y,b=n,g=a(6),x=a(10),E=a(11),M=a(3),O=(a(19),a(1)),T=a(7),j=a.n(T),N=Number(j.a.tickMilliseconds),w=Number(j.a.movingMilliseconds),C=Number(j.a.pausedMilliseconds),I=(d=O.b.bound,f=function(){function e(){var t=this;Object(x.a)(this,e),Object(g.a)(this,"state",v,this),Object(g.a)(this,"shouldMoveIfNotPaused",k,this),this.intervalId=void 0,this.nextTickTimestamp=void 0,this.nextMotorStateChangeTimestamp=void 0,Object(g.a)(this,"isMotorMoving",y,this),Object(O.f)((function(){t.reset()}))}return Object(E.a)(e,[{key:"reset",value:function(){clearInterval(this.intervalId),this.shouldMoveIfNotPaused=!1,this.intervalId=0,this.nextTickTimestamp=1/0,this.nextMotorStateChangeTimestamp=1/0,this.isMotorMoving=!1}},{key:"startInterval",value:function(){var e=this;this.intervalId||(Object(O.f)((function(){var t=Date.now();e.updateNextTickTimestamp(t),e.updateNextMotorStateChangeTimestamp(t)})),this.intervalId=setInterval(this.handleTick,N))}},{key:"handleTick",value:function(){for(var e=Date.now();this.nextTickTimestamp<=e;)this.shouldMoveIfNotPaused||"off"!==this.state?(this.nextMotorStateChangeTimestamp<=this.nextTickTimestamp&&(this.shouldMoveIfNotPaused=!this.shouldMoveIfNotPaused,this.shouldMoveIfNotPaused?this.moveConveyor():this.isMotorMoving=!1,this.updateNextMotorStateChangeTimestamp(this.nextMotorStateChangeTimestamp)),this.updateNextTickTimestamp(this.nextTickTimestamp)):this.reset()}},{key:"updateNextMotorStateChangeTimestamp",value:function(e){this.nextMotorStateChangeTimestamp=e+(this.shouldMoveIfNotPaused?w:C)}},{key:"updateNextTickTimestamp",value:function(e){this.nextTickTimestamp=e+N}},{key:"moveConveyor",value:function(){"paused"!==this.state&&(this.isMotorMoving=!0)}},{key:"changeState",value:function(e){this.state=e,this.startInterval()}},{key:"destroy",value:function(){clearInterval(this.intervalId)}}]),e}(),v=Object(M.a)(f.prototype,"state",[O.e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return b.Off}}),k=Object(M.a)(f.prototype,"shouldMoveIfNotPaused",[O.e],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=Object(M.a)(f.prototype,"isMotorMoving",[O.e],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Object(M.a)(f.prototype,"handleTick",[d],Object.getOwnPropertyDescriptor(f.prototype,"handleTick"),f.prototype),Object(M.a)(f.prototype,"changeState",[O.b],Object.getOwnPropertyDescriptor(f.prototype,"changeState"),f.prototype),f),D=Object(i.createContext)(null);var S=D.Provider;a(20);function P(e){var t=e.value,a=function(){var e=Object(i.useContext)(D);if(!e)throw new Error("Machine store not provided");return e}(),n=Object(c.a)((function(){return a.state})),s=Object(i.useCallback)((function(e){return a.changeState(e.target.value)}),[a]);return r.a.createElement("input",{type:"radio",name:"machine-state",value:t,onChange:s,checked:n===t})}function B(){return r.a.createElement("ul",{className:"controls"},r.a.createElement("li",null,r.a.createElement("label",null,r.a.createElement(P,{value:b.On})," On")),r.a.createElement("li",null,r.a.createElement("label",null,r.a.createElement(P,{value:b.Paused})," Paused")),r.a.createElement("li",null,r.a.createElement("label",null,r.a.createElement(P,{value:b.Off})," Off")))}a(21);function U(){var e=Object(i.useState)((function(){return new I})),t=Object(o.a)(e,1)[0];Object(i.useEffect)((function(){return function(){return t.destroy()}}),[t]);var a=Object(c.a)((function(){return t.isMotorMoving}));return r.a.createElement(S,{value:t},r.a.createElement("div",{className:a?"biscuit-machine motor-on":"biscuit-machine"},r.a.createElement(p,null),r.a.createElement(B,null)))}var H=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,24)).then((function(t){var a=t.getCLS,n=t.getFID,i=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),n(e),i(e),r(e),s(e)}))};Object(O.c)({computedRequiresReaction:!0,observableRequiresReaction:!0,reactionRequiresObservable:!0,enforceActions:"always"});a(22);l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(U,null)),document.getElementById("root")),H()},7:function(e,t,a){e.exports={tickMilliseconds:"100",movingMilliseconds:"2000",pausedMilliseconds:"2000"}}},[[23,1,2]]]);
//# sourceMappingURL=main.a0f9706f.chunk.js.map